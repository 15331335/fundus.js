<!doctype html>
<html>
<head>
  <title>fundus.js</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <canvas id="glcanvas" width="640" height="480">
    Your browser doesn't appear to support the HTML5 <code>&lt;canvas&gt;</code> element.
  </canvas>
  <div>
    <div>
      <button id="btnOrigin">重置图片</button>
      <button id="btnGray">灰度</button>
      <button id="btnEdge">提取边缘</button>
      <button id="btnSharp">锐化</button>
    </div>
    <div>Threshold: <input type="range" min="0" max="100" id="threshold" value="0" /></div>
  </div>
  <script src="fundus.js"></script>
  <script type="text/javascript">
    var f = new Fundus('glcanvas', 'http://localhost:8080/lena.jpg');
    document.getElementById('btnOrigin').addEventListener('click', () => {f.reset();});
    document.getElementById('btnGray').addEventListener('click', () => {f.setGrayChannel('g');});
    document.getElementById('btnEdge').addEventListener('click', () => {f.setMat3kernel([0, -1, 0, -1, 4, -1, 0, -1, 0]);});
    document.getElementById('btnSharp').addEventListener('click', () => {f.setMat3kernel([0, -1, 0, -1, 5, -1, 0, -1, 0]);});
    document.getElementById('threshold').addEventListener('change', () => {f.setThreshold(document.getElementById('threshold').value/100);});
  </script>
</body>
</html>